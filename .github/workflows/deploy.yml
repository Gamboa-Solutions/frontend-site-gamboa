name: SSH and List Directories

on:
  push:

jobs:
  your-job-name:
    runs-on: ubuntu-latest
    steps:
      - name: Connect via SSH
        env:
          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
          SSH_HOST: ${{ secrets.SSH_HOST }}
          SSH_USERNAME: ${{ secrets.SSH_USERNAME }}
          SSH_PORT: ${{ secrets.SSH_PORT }}
          SSH_PASSWORD: ${{ secrets.SSH_PASSWORD }}
        run: |
          echo SSH_PRIVATE_KEY > deploy_key
          chmod 600 deploy_key
          sudo apt-get install -y sshpass
          sshpass -p SSH_PASSWORD ssh -vvv -o StrictHostKeyChecking=no -p SSH_PORT -i deploy_key SSH_USERNAME@$SSH_HOST "ls -al"
          rm -f deploy_key
        shell: bash





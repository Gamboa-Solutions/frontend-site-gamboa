name: Pull All Remote Branches

on:
  push:
    branches:
      - main

jobs:
  update_branches:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Fetch all branches
        run: |
          git fetch --all

      - name: Pull updates for each branch
        run: |
          for branch in $(git branch -r | grep -v HEAD); do
              name="${branch#origin/}"
              git checkout $name
              git pull origin $name
          done

